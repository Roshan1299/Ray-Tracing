# Image Viewing Guide for Ray Tracing Project

This guide explains how to view the PPM images generated by the ray tracer clearly and easily.

## Quick Start

### 1. Generate and View Sample Image
```bash
# Build the ray tracer
make

# Generate sample image and convert to PNG
make test

# View the generated image
make view
```

### 2. Generate Custom Images
```bash
# Run with custom input file
make run INPUT=your_input.txt OUTPUT=your_output.ppm

# View custom PPM file
make view-custom FILE=your_output.ppm
```

## Available Tools

### 1. `ppm_to_png.py` - PPM to PNG Converter
Converts PPM P3 format files to PNG for easier viewing.

**Usage:**
```bash
python3 ppm_to_png.py input.ppm [output.png]
```

**Examples:**
```bash
python3 ppm_to_png.py output.ppm
python3 ppm_to_png.py output.ppm my_image.png
```

### 2. `view_image.py` - Automatic Viewer
Automatically converts PPM to PNG and opens it with the system's default image viewer.

**Usage:**
```bash
python3 view_image.py input.ppm
```

**Examples:**
```bash
python3 view_image.py output.ppm
```

### 3. Makefile Targets

- `make test` - Build, run with sample input, and convert to PNG
- `make view` - View the default output.ppm file
- `make run INPUT=file.txt OUTPUT=out.ppm` - Run with custom input/output
- `make view-custom FILE=file.ppm` - View any PPM file

## Input File Format

Create input files with the following format:
```
<image_width> <image_height>
<viewport_height>
<focal_length>
<light_x> <light_y> <light_z> <light_brightness>
<num_colors>
<color1_hex> <color2_hex> ... <colorN_hex>
<background_color_index>
<num_spheres>
<sphere_x> <sphere_y> <sphere_z> <radius> <color_index>
...
```

**Example (sample_input.txt):**
```
640 480
2.0
1.0
20.0 20.0 10.0 1000.0
4
0x1188EE 0xDD2266 0xDD7700 0x11CC66
0
3
2.0 0.0 -5.0 2.0 2
-2.0 0.0 -5.0 2.0 3
0.0 -102.0 -5.0 100.0 1
```

## Complete Workflow Example

1. **Create your scene file:**
   ```bash
   # Edit your_scene.txt with your desired scene
   ```

2. **Generate the image:**
   ```bash
   make run INPUT=your_scene.txt OUTPUT=my_render.ppm
   ```

3. **View the result:**
   ```bash
   make view-custom FILE=my_render.ppm
   ```

## Troubleshooting

### PPM File Not Opening
- Use `ppm_to_png.py` to convert to PNG first
- Check that the PPM file was generated correctly
- Verify the file is in P3 format

### Image Quality Issues
- Increase image resolution in input file
- Adjust anti-aliasing by modifying the sampling in main.c
- Check lighting parameters

### Build Issues
- Run `make clean` then `make`
- Ensure all source files are present
- Check for compilation errors

## File Formats

- **PPM (P3)**: Raw format generated by ray tracer
- **PNG**: Converted format for easy viewing
- **Input (.txt)**: Scene description file

The PNG conversion preserves all image quality while making it viewable in any standard image viewer.